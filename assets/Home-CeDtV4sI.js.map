{"version":3,"file":"Home-CeDtV4sI.js","sources":["../../src/helpers/transactionsFormatter.js","../../src/components/TransactionItem/TransactionItem.jsx","../../src/components/TransactionList/TransactionList.jsx","../../src/components/AddButton/AddButton.jsx","../../src/components/Home/Home.jsx"],"sourcesContent":["export function getFormattedTransactions(transactions, categories) {\n    return transactions.map(transaction => getFormattedTransaction(transaction, categories)).toSorted((a, b) => b.date.localeCompare(a.date));\n}\nfunction getFormattedTransaction(transaction, categories) {\n    const { transactionDate: date, amount: sum, categoryId, type, comment, id } = transaction;\n    const newTransaction = { id, date, type: type === 'EXPENSE' ? '-' : '+', category: getCategoryName(categoryId, categories), comment, sum: Math.abs(sum) };\n    return newTransaction;\n}\n\nfunction getCategoryName(id, categories) {\n    const cat = [...categories].find(item => item.id === id);\n    return cat?.name || 'Invalid';\n}\n\nexport function getHeadTransaction() {\n    return ['date', 'type', 'category', 'comment', 'sum'];\n}\n\nexport function getStyleByType(type) {\n    const currentColor = type === '-' ? 'var(--red-color)' : 'var(--yellow-color)';\n    return {\n        color: currentColor,\n    };\n}\n","import clsx from 'clsx';\nimport { useDispatch } from 'react-redux';\n\nimport useMedia from '../../hooks/useMedia';\nimport { deleteTransactions } from '../../redux/Transactions/operations';\nimport { openEditModal, addEditId } from '../../redux/Modals/slice';\nimport { getStyleByType } from '../../helpers/transactionsFormatter';\n\nimport s from './TransactionItem.module.css';\nimport { Icon } from '../../Icons';\nimport { getBalanceThunk } from '../../redux/Auth/operations';\n\nfunction TransactionItem({ transaction, id }) {\n    const dispatch = useDispatch();\n    const { isMobile } = useMedia();\n    const idForModal = id;\n    const style = getStyleByType(transaction.type);\n\n    function onEdit() {\n        const newId = idForModal;\n        dispatch(addEditId(newId));\n        dispatch(openEditModal());\n    }\n\n    async function OnDelete() {\n        await dispatch(deleteTransactions(id));\n        dispatch(getBalanceThunk());\n    }\n\n    return isMobile ? (\n        <ul className={s.card} style={style}>\n            {[...Object.keys(transaction)].map((tKey, idx) => {\n                return (\n                    <li key={idx} className={s.row}>\n                        <span className={s.row_item}>{tKey}</span>\n                        <span className={s.row_item}>{transaction[tKey]}</span>\n                    </li>\n                );\n            })}\n\n            <li className={s.row}>\n                <button type=\"button\" className={clsx(s.btn_edit, s.row_item)} onClick={onEdit}>\n                    <Icon id=\"#icon-pen\" className={s.edit}></Icon>\n                </button>\n                <button type=\"button\" className={clsx(s.colored, 'btn_delete')} onClick={OnDelete}>\n                    Delete\n                </button>\n            </li>\n        </ul>\n    ) : (\n        <>\n            \n                <ul className={s.row} style={style}>\n                    {[...Object.values(transaction)].map((value, idx) => {\n                        return (\n                            <li key={idx} className={s.row_item}>\n                                {value}\n                            </li>\n                        );\n                    })}\n                    <li className={clsx(s.row_item, s.controls)}>\n                        <button type=\"button\" className={s.btn_edit} onClick={onEdit}>\n                            <Icon id=\"#icon-pen\" className={s.edit}></Icon>\n                        </button>\n                        <button type=\"button\" className={clsx(s.colored, 'btn_delete')} onClick={OnDelete}>\n                            Delete\n                        </button>\n                    </li>\n                </ul>\n        </>\n    );\n}\n\nexport default TransactionItem;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { selectTransError, selectTransLoading, selectTransactions } from '../../redux/Transactions/selectors';\nimport { selectCategories } from '../../redux/Statistics/selectors';\nimport { getFormattedTransactions, getHeadTransaction } from '../../helpers/transactionsFormatter';\n\nimport s from './TransactionList.module.css';\nimport Loader from '../Loader/Loader';\nimport TransactionItem from '../TransactionItem/TransactionItem';\nimport FormButton from '../common/FormButton/FormButton';\nimport { openAddModal } from '../../redux/Modals/slice';\nimport useMedia from '../../hooks/useMedia';\n\nfunction TransactionList() {\n    const reduxTransactions = useSelector(selectTransactions);\n    const isLoading = useSelector(selectTransLoading);\n    const isError = useSelector(selectTransError);\n    const categories = useSelector(selectCategories);\n\n    const { isMobile } = useMedia();\n    const dispatch = useDispatch();\n\n    return (\n        <>\n            {isLoading && <Loader />}\n            {isError && <p className={s.text}>Oops, something went wrong...</p>}\n            {!isLoading && reduxTransactions.length === 0 ? (\n                <div className={s.container}>\n                    <p>No transactions available yet.</p> <p> Let&#39;s add your first transaction:</p>\n                    <FormButton type=\"button\" text={'Add transaction'} variant={'multiColorButton'} handlerFunction={() => dispatch(openAddModal())} />\n                </div>\n            ) : (\n                <>\n                    {!isMobile && (\n                        <ul className={s.head_row}>\n                            {getHeadTransaction().map((value, idx) => {\n                                return (\n                                    <li key={idx} className={s.row_item}>\n                                        {value}\n                                    </li>\n                                );\n                            })}\n                            <li className={s.row_item}></li>\n                        </ul>\n                    )}\n                    <ul className={s.list}>\n                        {getFormattedTransactions(reduxTransactions, categories).map(({ id, ...item }) => {\n                            return <TransactionItem key={id} id={id} transaction={item} />;\n                        })}\n                    </ul>\n                </>\n            )}\n        </>\n    );\n}\n\nexport default TransactionList;\n","import { Icon } from '../../Icons';\nimport s from './AddButton.module.css';\nimport { openAddModal } from '../../redux/Modals/slice';\nimport { useDispatch } from 'react-redux';\n\nconst AddButton = () => {\n    const dispatch = useDispatch();\n\n    return (\n        <div className={s.wrap}>\n            <button\n                className={s.btn}\n                type=\"button\"\n                onClick={() => {\n                    dispatch(openAddModal());\n                }}\n            >\n                <Icon id=\"#icon-plus\" className={s.icon} ></Icon>\n            </button>\n        </div>\n    );\n};\n\nexport default AddButton;\n","import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getTransactions } from '../../redux/Transactions/operations';\nimport { getTransactionsCategories } from '../../redux/Statistics/operations';\nimport TransactionList from '../TransactionList/TransactionList';\nimport AddButton from '../AddButton/AddButton';\n\nfunction Home() {\n    const dispatch = useDispatch();\n    useEffect(() => {\n        dispatch(getTransactions());\n        dispatch(getTransactionsCategories());\n    }, [dispatch]);\n    return (\n        <>\n            <TransactionList />\n            <AddButton></AddButton>\n        </>\n    );\n}\n\nexport default Home;\n"],"names":["getFormattedTransactions","transactions","categories","transaction","getFormattedTransaction","a","b","date","sum","categoryId","type","comment","id","getCategoryName","cat","item","getHeadTransaction","getStyleByType","TransactionItem","dispatch","useDispatch","isMobile","useMedia","idForModal","style","onEdit","addEditId","openEditModal","OnDelete","deleteTransactions","getBalanceThunk","jsxs","s","tKey","idx","jsx","clsx","Icon","Fragment","value","TransactionList","reduxTransactions","useSelector","selectTransactions","isLoading","selectTransLoading","isError","selectTransError","selectCategories","Loader","FormButton","openAddModal","AddButton","Home","useEffect","getTransactions","getTransactionsCategories"],"mappings":"wKAAO,SAASA,EAAyBC,EAAcC,EAAY,CAC/D,OAAOD,EAAa,IAAIE,GAAeC,EAAwBD,EAAaD,CAAU,CAAC,EAAE,SAAS,CAACG,EAAGC,IAAMA,EAAE,KAAK,cAAcD,EAAE,IAAI,CAAC,CAC5I,CACA,SAASD,EAAwBD,EAAaD,EAAY,CACtD,KAAM,CAAE,gBAAiBK,EAAM,OAAQC,EAAK,WAAAC,EAAY,KAAAC,EAAM,QAAAC,EAAS,GAAAC,CAAE,EAAKT,EAE9E,MADuB,CAAE,GAAAS,EAAI,KAAAL,EAAM,KAAMG,IAAS,UAAY,IAAM,IAAK,SAAUG,EAAgBJ,EAAYP,CAAU,EAAG,QAAAS,EAAS,IAAK,KAAK,IAAIH,CAAG,CAAG,CAE7J,CAEA,SAASK,EAAgBD,EAAIV,EAAY,CACrC,MAAMY,EAAM,CAAC,GAAGZ,CAAU,EAAE,KAAKa,GAAQA,EAAK,KAAOH,CAAE,EACvD,OAAOE,GAAA,YAAAA,EAAK,OAAQ,SACxB,CAEO,SAASE,GAAqB,CACjC,MAAO,CAAC,OAAQ,OAAQ,WAAY,UAAW,KAAK,CACxD,CAEO,SAASC,EAAeP,EAAM,CAEjC,MAAO,CACH,MAFiBA,IAAS,IAAM,mBAAqB,qBAGxD,CACL,2XCXA,SAASQ,EAAgB,CAAE,YAAAf,EAAa,GAAAS,GAAM,CAC1C,MAAMO,EAAWC,EAAY,EACvB,CAAE,SAAAC,CAAS,EAAIC,EAAS,EACxBC,EAAaX,EACbY,EAAQP,EAAed,EAAY,IAAI,EAE7C,SAASsB,GAAS,CAELN,EAAAO,EADKH,CACU,CAAC,EACzBJ,EAASQ,GAAe,CAAA,CAG5B,eAAeC,GAAW,CAChB,MAAAT,EAASU,EAAmBjB,CAAE,CAAC,EACrCO,EAASW,GAAiB,CAAA,CAG9B,OAAOT,EACFU,EAAA,KAAA,KAAA,CAAG,UAAWC,EAAE,KAAM,MAAAR,EAClB,SAAA,CAAC,CAAA,GAAG,OAAO,KAAKrB,CAAW,CAAC,EAAE,IAAI,CAAC8B,EAAMC,IAEjCH,EAAAA,KAAA,KAAA,CAAa,UAAWC,EAAE,IACvB,SAAA,CAAAG,EAAA,IAAC,OAAK,CAAA,UAAWH,EAAE,SAAW,SAAKC,EAAA,QAClC,OAAK,CAAA,UAAWD,EAAE,SAAW,SAAA7B,EAAY8B,CAAI,CAAE,CAAA,CAAA,CAAA,EAF3CC,CAGT,CAEP,EAEAH,EAAA,KAAA,KAAA,CAAG,UAAWC,EAAE,IACb,SAAA,CAAAG,EAAAA,IAAC,UAAO,KAAK,SAAS,UAAWC,EAAKJ,EAAE,SAAUA,EAAE,QAAQ,EAAG,QAASP,EACpE,eAACY,EAAK,CAAA,GAAG,YAAY,UAAWL,EAAE,KAAM,CAC5C,CAAA,EACCG,EAAAA,IAAA,SAAA,CAAO,KAAK,SAAS,UAAWC,EAAKJ,EAAE,QAAS,YAAY,EAAG,QAASJ,EAAU,SAEnF,QAAA,CAAA,CAAA,CACJ,CAAA,CAAA,CAAA,CACJ,EAIQO,EAAA,IAAAG,WAAA,CAAA,SAAAP,EAAA,KAAC,MAAG,UAAWC,EAAE,IAAK,MAAAR,EACjB,SAAA,CAAC,CAAA,GAAG,OAAO,OAAOrB,CAAW,CAAC,EAAE,IAAI,CAACoC,EAAOL,UAEpC,KAAa,CAAA,UAAWF,EAAE,SACtB,YADIE,CAET,CAEP,EACDH,OAAC,MAAG,UAAWK,EAAKJ,EAAE,SAAUA,EAAE,QAAQ,EACtC,SAAA,CAAAG,MAAC,SAAO,CAAA,KAAK,SAAS,UAAWH,EAAE,SAAU,QAASP,EAClD,SAAAU,MAACE,GAAK,GAAG,YAAY,UAAWL,EAAE,IAAM,CAAA,EAC5C,EACCG,EAAAA,IAAA,SAAA,CAAO,KAAK,SAAS,UAAWC,EAAKJ,EAAE,QAAS,YAAY,EAAG,QAASJ,EAAU,SAEnF,QAAA,CAAA,CAAA,CACJ,CAAA,CAAA,CAAA,CACJ,CACR,CAAA,CAER,CC3DA,SAASY,GAAkB,CACjB,MAAAC,EAAoBC,EAAYC,CAAkB,EAClDC,EAAYF,EAAYG,CAAkB,EAC1CC,EAAUJ,EAAYK,CAAgB,EACtC7C,EAAawC,EAAYM,CAAgB,EAEzC,CAAE,SAAA3B,CAAS,EAAIC,EAAS,EACxBH,EAAWC,EAAY,EAE7B,OAESW,EAAA,KAAAO,WAAA,CAAA,SAAA,CAAAM,SAAcK,EAAO,EAAA,EACrBH,GAAYX,EAAAA,IAAA,IAAA,CAAE,UAAWH,EAAE,KAAM,SAA6B,gCAAA,EAC9D,CAACY,GAAaH,EAAkB,SAAW,EACvCV,EAAAA,KAAA,MAAA,CAAI,UAAWC,EAAE,UACd,SAAA,CAAAG,EAAAA,IAAC,KAAE,SAA8B,gCAAA,CAAA,EAAI,IAACA,EAAAA,IAAC,KAAE,SAAsC,oCAAA,CAAA,EAC9EA,EAAAA,IAAAe,EAAA,CAAW,KAAK,SAAS,KAAM,kBAAmB,QAAS,mBAAoB,gBAAiB,IAAM/B,EAASgC,EAAc,CAAA,CAAG,CAAA,CAAA,CAAA,CACrI,EAGKpB,EAAAA,KAAAO,EAAA,SAAA,CAAA,SAAA,CAAA,CAACjB,GACEU,EAAAA,KAAC,KAAG,CAAA,UAAWC,EAAE,SACZ,SAAA,CAAAhB,IAAqB,IAAI,CAACuB,EAAOL,UAEzB,KAAa,CAAA,UAAWF,EAAE,SACtB,YADIE,CAET,CAEP,EACAC,EAAAA,IAAA,KAAA,CAAG,UAAWH,EAAE,QAAU,CAAA,CAAA,EAC/B,EAEHG,EAAA,IAAA,KAAA,CAAG,UAAWH,EAAE,KACZ,SAAyBhC,EAAAyC,EAAmBvC,CAAU,EAAE,IAAI,CAAC,CAAE,GAAAU,EAAI,GAAGG,KAC3DoB,EAAAA,IAAAjB,EAAA,CAAyB,GAAAN,EAAQ,YAAaG,GAAzBH,CAA+B,CAC/D,CACL,CAAA,CAAA,CACJ,CAAA,CAAA,EAER,CAER,wFChDMwC,GAAY,IAAM,CACpB,MAAMjC,EAAWC,EAAY,EAE7B,OACKe,EAAAA,IAAA,MAAA,CAAI,UAAWH,EAAE,KACd,SAAAG,EAAA,IAAC,SAAA,CACG,UAAWH,EAAE,IACb,KAAK,SACL,QAAS,IAAM,CACXb,EAASgC,GAAc,CAC3B,EAEA,eAACd,EAAK,CAAA,GAAG,aAAa,UAAWL,EAAE,IAAO,CAAA,CAAA,CAAA,EAElD,CAER,ECdA,SAASqB,IAAO,CACZ,MAAMlC,EAAWC,EAAY,EAC7BkC,OAAAA,EAAAA,UAAU,IAAM,CACZnC,EAASoC,GAAiB,EAC1BpC,EAASqC,GAA2B,CAAA,EACrC,CAACrC,CAAQ,CAAC,EAGLY,EAAA,KAAAO,WAAA,CAAA,SAAA,CAAAH,EAAA,IAACK,EAAgB,EAAA,QAChBY,GAAU,CAAA,CAAA,CAAA,EACf,CAER"}